["^ ","~:output",["^ ","~:js","goog.provide('promesa.exec');\npromesa.exec.default_scheduler = (new cljs.core.Delay((function (){\nreturn (promesa.exec.__GT_ScheduledExecutor.cljs$core$IFn$_invoke$arity$0 ? promesa.exec.__GT_ScheduledExecutor.cljs$core$IFn$_invoke$arity$0() : promesa.exec.__GT_ScheduledExecutor.call(null));\n}),null));\npromesa.exec.default_executor = (new cljs.core.Delay((function (){\nreturn (promesa.exec.__GT_MicrotaskExecutor.cljs$core$IFn$_invoke$arity$0 ? promesa.exec.__GT_MicrotaskExecutor.cljs$core$IFn$_invoke$arity$0() : promesa.exec.__GT_MicrotaskExecutor.call(null));\n}),null));\npromesa.exec.current_thread_executor = (new cljs.core.Delay((function (){\nreturn (promesa.exec.__GT_CurrentThreadExecutor.cljs$core$IFn$_invoke$arity$0 ? promesa.exec.__GT_CurrentThreadExecutor.cljs$core$IFn$_invoke$arity$0() : promesa.exec.__GT_CurrentThreadExecutor.call(null));\n}),null));\npromesa.exec.resolve_executor = (function promesa$exec$resolve_executor(var_args){\nvar G__10848 = arguments.length;\nswitch (G__10848) {\ncase 0:\nreturn promesa.exec.resolve_executor.cljs$core$IFn$_invoke$arity$0();\n\nbreak;\ncase 1:\nreturn promesa.exec.resolve_executor.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\n\nbreak;\ndefault:\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\n\n}\n});\n\n(promesa.exec.resolve_executor.cljs$core$IFn$_invoke$arity$0 = (function (){\nif(cljs.core.delay_QMARK_(promesa.exec.default_executor)){\nreturn cljs.core.deref(promesa.exec.default_executor);\n} else {\nreturn promesa.exec.default_executor;\n}\n}));\n\n(promesa.exec.resolve_executor.cljs$core$IFn$_invoke$arity$1 = (function (executor){\nif(cljs.core.delay_QMARK_(executor)){\nreturn cljs.core.deref(executor);\n} else {\nreturn executor;\n}\n}));\n\n(promesa.exec.resolve_executor.cljs$lang$maxFixedArity = 1);\n\npromesa.exec.resolve_scheduler = (function promesa$exec$resolve_scheduler(var_args){\nvar G__10850 = arguments.length;\nswitch (G__10850) {\ncase 0:\nreturn promesa.exec.resolve_scheduler.cljs$core$IFn$_invoke$arity$0();\n\nbreak;\ncase 1:\nreturn promesa.exec.resolve_scheduler.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\n\nbreak;\ndefault:\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\n\n}\n});\n\n(promesa.exec.resolve_scheduler.cljs$core$IFn$_invoke$arity$0 = (function (){\nif(cljs.core.delay_QMARK_(promesa.exec.default_scheduler)){\nreturn cljs.core.deref(promesa.exec.default_scheduler);\n} else {\nreturn promesa.exec.default_scheduler;\n}\n}));\n\n(promesa.exec.resolve_scheduler.cljs$core$IFn$_invoke$arity$1 = (function (scheduler){\nif(cljs.core.delay_QMARK_(scheduler)){\nreturn cljs.core.deref(scheduler);\n} else {\nreturn scheduler;\n}\n}));\n\n(promesa.exec.resolve_scheduler.cljs$lang$maxFixedArity = 1);\n\n/**\n * Run the task in the provided executor.\n */\npromesa.exec.run_BANG_ = (function promesa$exec$run_BANG_(var_args){\nvar G__10852 = arguments.length;\nswitch (G__10852) {\ncase 1:\nreturn promesa.exec.run_BANG_.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\n\nbreak;\ncase 2:\nreturn promesa.exec.run_BANG_.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\n\nbreak;\ndefault:\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\n\n}\n});\n\n(promesa.exec.run_BANG_.cljs$core$IFn$_invoke$arity$1 = (function (task){\nreturn promesa.protocols._run_BANG_(promesa.exec.resolve_executor.cljs$core$IFn$_invoke$arity$0(),task);\n}));\n\n(promesa.exec.run_BANG_.cljs$core$IFn$_invoke$arity$2 = (function (executor,task){\nreturn promesa.protocols._run_BANG_(promesa.exec.resolve_executor.cljs$core$IFn$_invoke$arity$1(executor),task);\n}));\n\n(promesa.exec.run_BANG_.cljs$lang$maxFixedArity = 2);\n\n/**\n * Submit a task to be executed in a provided executor\n *   and return a promise that will be completed with\n *   the return value of a task.\n * \n *   A task is a plain clojure function.\n */\npromesa.exec.submit_BANG_ = (function promesa$exec$submit_BANG_(var_args){\nvar G__10854 = arguments.length;\nswitch (G__10854) {\ncase 1:\nreturn promesa.exec.submit_BANG_.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\n\nbreak;\ncase 2:\nreturn promesa.exec.submit_BANG_.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\n\nbreak;\ndefault:\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\n\n}\n});\n\n(promesa.exec.submit_BANG_.cljs$core$IFn$_invoke$arity$1 = (function (task){\nreturn promesa.protocols._submit_BANG_(promesa.exec.resolve_executor.cljs$core$IFn$_invoke$arity$0(),task);\n}));\n\n(promesa.exec.submit_BANG_.cljs$core$IFn$_invoke$arity$2 = (function (executor,task){\nreturn promesa.protocols._submit_BANG_(promesa.exec.resolve_executor.cljs$core$IFn$_invoke$arity$1(executor),task);\n}));\n\n(promesa.exec.submit_BANG_.cljs$lang$maxFixedArity = 2);\n\n/**\n * Schedule a callable to be executed after the `ms` delay\n *   is reached.\n * \n *   In JVM it uses a scheduled executor service and in JS\n *   it uses the `setTimeout` function.\n */\npromesa.exec.schedule_BANG_ = (function promesa$exec$schedule_BANG_(var_args){\nvar G__10858 = arguments.length;\nswitch (G__10858) {\ncase 2:\nreturn promesa.exec.schedule_BANG_.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\n\nbreak;\ncase 3:\nreturn promesa.exec.schedule_BANG_.cljs$core$IFn$_invoke$arity$3((arguments[(0)]),(arguments[(1)]),(arguments[(2)]));\n\nbreak;\ndefault:\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\n\n}\n});\n\n(promesa.exec.schedule_BANG_.cljs$core$IFn$_invoke$arity$2 = (function (ms,task){\nreturn promesa.protocols._schedule_BANG_(promesa.exec.resolve_scheduler.cljs$core$IFn$_invoke$arity$0(),ms,task);\n}));\n\n(promesa.exec.schedule_BANG_.cljs$core$IFn$_invoke$arity$3 = (function (scheduler,ms,task){\nreturn promesa.protocols._schedule_BANG_(promesa.exec.resolve_scheduler.cljs$core$IFn$_invoke$arity$1(scheduler),ms,task);\n}));\n\n(promesa.exec.schedule_BANG_.cljs$lang$maxFixedArity = 3);\n\n\n/**\n* @constructor\n * @implements {promesa.protocols.IExecutor}\n*/\npromesa.exec.MicrotaskExecutor = (function (){\n});\n(promesa.exec.MicrotaskExecutor.prototype.promesa$protocols$IExecutor$ = cljs.core.PROTOCOL_SENTINEL);\n\n(promesa.exec.MicrotaskExecutor.prototype.promesa$protocols$IExecutor$_run_BANG_$arity$2 = (function (this$,f){\nvar self__ = this;\nvar this$__$1 = this;\nreturn promesa.protocols._mapErr(promesa.protocols._map(promesa.protocols._promise(null),(function (_){\n(f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null));\n\nreturn null;\n})),(function (e){\nsetTimeout((function (){\nthrow e;\n}));\n\nreturn null;\n}));\n}));\n\n(promesa.exec.MicrotaskExecutor.prototype.promesa$protocols$IExecutor$_submit_BANG_$arity$2 = (function (this$,f){\nvar self__ = this;\nvar this$__$1 = this;\nreturn promesa.protocols._mapErr(promesa.protocols._map(promesa.protocols._promise(null),(function (_){\nreturn (f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null));\n})),(function (e){\nsetTimeout((function (){\nthrow e;\n}));\n\nreturn null;\n}));\n}));\n\n(promesa.exec.MicrotaskExecutor.getBasis = (function (){\nreturn cljs.core.PersistentVector.EMPTY;\n}));\n\n(promesa.exec.MicrotaskExecutor.cljs$lang$type = true);\n\n(promesa.exec.MicrotaskExecutor.cljs$lang$ctorStr = \"promesa.exec/MicrotaskExecutor\");\n\n(promesa.exec.MicrotaskExecutor.cljs$lang$ctorPrWriter = (function (this__4369__auto__,writer__4370__auto__,opt__4371__auto__){\nreturn cljs.core._write(writer__4370__auto__,\"promesa.exec/MicrotaskExecutor\");\n}));\n\n/**\n * Positional factory function for promesa.exec/MicrotaskExecutor.\n */\npromesa.exec.__GT_MicrotaskExecutor = (function promesa$exec$__GT_MicrotaskExecutor(){\nreturn (new promesa.exec.MicrotaskExecutor());\n});\n\n\n/**\n* @constructor\n * @implements {promesa.protocols.IExecutor}\n*/\npromesa.exec.CurrentThreadExecutor = (function (){\n});\n(promesa.exec.CurrentThreadExecutor.prototype.promesa$protocols$IExecutor$ = cljs.core.PROTOCOL_SENTINEL);\n\n(promesa.exec.CurrentThreadExecutor.prototype.promesa$protocols$IExecutor$_run_BANG_$arity$2 = (function (this$,f){\nvar self__ = this;\nvar this$__$1 = this;\n(f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null));\n\nreturn promesa.protocols._promise(null);\n}));\n\n(promesa.exec.CurrentThreadExecutor.prototype.promesa$protocols$IExecutor$_submit_BANG_$arity$2 = (function (this$,f){\nvar self__ = this;\nvar this$__$1 = this;\nreturn promesa.protocols._promise((f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null)));\n}));\n\n(promesa.exec.CurrentThreadExecutor.getBasis = (function (){\nreturn cljs.core.PersistentVector.EMPTY;\n}));\n\n(promesa.exec.CurrentThreadExecutor.cljs$lang$type = true);\n\n(promesa.exec.CurrentThreadExecutor.cljs$lang$ctorStr = \"promesa.exec/CurrentThreadExecutor\");\n\n(promesa.exec.CurrentThreadExecutor.cljs$lang$ctorPrWriter = (function (this__4369__auto__,writer__4370__auto__,opt__4371__auto__){\nreturn cljs.core._write(writer__4370__auto__,\"promesa.exec/CurrentThreadExecutor\");\n}));\n\n/**\n * Positional factory function for promesa.exec/CurrentThreadExecutor.\n */\npromesa.exec.__GT_CurrentThreadExecutor = (function promesa$exec$__GT_CurrentThreadExecutor(){\nreturn (new promesa.exec.CurrentThreadExecutor());\n});\n\n\n/**\n* @constructor\n * @implements {cljs.core.IPending}\n * @implements {promesa.protocols.ICancellable}\n*/\npromesa.exec.ScheduledTask = (function (state){\nthis.state = state;\nthis.cljs$lang$protocol_mask$partition1$ = 1;\nthis.cljs$lang$protocol_mask$partition0$ = 0;\n});\n(promesa.exec.ScheduledTask.prototype.cljs$core$IPending$_realized_QMARK_$arity$1 = (function (_){\nvar self__ = this;\nvar ___$1 = this;\nvar done_iref = goog.object.get(self__.state,\"done\");\nreturn cljs.core.deref(done_iref);\n}));\n\n(promesa.exec.ScheduledTask.prototype.promesa$protocols$ICancellable$ = cljs.core.PROTOCOL_SENTINEL);\n\n(promesa.exec.ScheduledTask.prototype.promesa$protocols$ICancellable$_cancelled_QMARK_$arity$1 = (function (_){\nvar self__ = this;\nvar ___$1 = this;\nreturn goog.object.get(self__.state,\"cancelled\");\n}));\n\n(promesa.exec.ScheduledTask.prototype.promesa$protocols$ICancellable$_cancel_BANG_$arity$1 = (function (self){\nvar self__ = this;\nvar self__$1 = this;\nif(cljs.core.truth_(self__$1.promesa$protocols$ICancellable$_cancelled_QMARK_$arity$1(null))){\nreturn null;\n} else {\nvar cancel_fn = goog.object.get(self__.state,\"cancel-fn\");\ngoog.object.set(self__.state,\"cancelled\",true);\n\nreturn (cancel_fn.cljs$core$IFn$_invoke$arity$0 ? cancel_fn.cljs$core$IFn$_invoke$arity$0() : cancel_fn.call(null));\n}\n}));\n\n(promesa.exec.ScheduledTask.getBasis = (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"state\",\"state\",-348086572,null)], null);\n}));\n\n(promesa.exec.ScheduledTask.cljs$lang$type = true);\n\n(promesa.exec.ScheduledTask.cljs$lang$ctorStr = \"promesa.exec/ScheduledTask\");\n\n(promesa.exec.ScheduledTask.cljs$lang$ctorPrWriter = (function (this__4369__auto__,writer__4370__auto__,opt__4371__auto__){\nreturn cljs.core._write(writer__4370__auto__,\"promesa.exec/ScheduledTask\");\n}));\n\n/**\n * Positional factory function for promesa.exec/ScheduledTask.\n */\npromesa.exec.__GT_ScheduledTask = (function promesa$exec$__GT_ScheduledTask(state){\nreturn (new promesa.exec.ScheduledTask(state));\n});\n\n\n/**\n* @constructor\n * @implements {promesa.protocols.IScheduler}\n*/\npromesa.exec.ScheduledExecutor = (function (){\n});\n(promesa.exec.ScheduledExecutor.prototype.promesa$protocols$IScheduler$ = cljs.core.PROTOCOL_SENTINEL);\n\n(promesa.exec.ScheduledExecutor.prototype.promesa$protocols$IScheduler$_schedule_BANG_$arity$3 = (function (_,ms,f){\nvar self__ = this;\nvar ___$1 = this;\nvar done = cljs.core.volatile_BANG_(false);\nvar task = (function (){\ntry{return (f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null));\n}finally {cljs.core.vreset_BANG_(done,true);\n}});\nvar tid = setTimeout(task,ms);\nvar cancel = (function (){\nreturn clearTimeout(tid);\n});\nreturn promesa.exec.__GT_ScheduledTask(({\"done\": done, \"cancelled\": false, \"cancel-fn\": cancel}));\n}));\n\n(promesa.exec.ScheduledExecutor.getBasis = (function (){\nreturn cljs.core.PersistentVector.EMPTY;\n}));\n\n(promesa.exec.ScheduledExecutor.cljs$lang$type = true);\n\n(promesa.exec.ScheduledExecutor.cljs$lang$ctorStr = \"promesa.exec/ScheduledExecutor\");\n\n(promesa.exec.ScheduledExecutor.cljs$lang$ctorPrWriter = (function (this__4369__auto__,writer__4370__auto__,opt__4371__auto__){\nreturn cljs.core._write(writer__4370__auto__,\"promesa.exec/ScheduledExecutor\");\n}));\n\n/**\n * Positional factory function for promesa.exec/ScheduledExecutor.\n */\npromesa.exec.__GT_ScheduledExecutor = (function promesa$exec$__GT_ScheduledExecutor(){\nreturn (new promesa.exec.ScheduledExecutor());\n});\n\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:doc","Executors & Schedulers facilities.","~:file","promesa/exec.cljc","~:line",25,"~:column",5,"~:end-line",25,"~:end-column",17],"~:ns-aliases",["^ ","~$cljs.loader","~$shadow.loader","~$clojure.core","~$cljs.core","~$clojure.spec.alpha","~$cljs.spec.alpha"],"~:use-macros",null,"~:excludes",["~#set",["~$run!"]],"~:name","~$promesa.exec","~:op","~:ns","~:imports",null,"~:requires",["^ ","~$promesa.protocols","^M","~$pt","^M","~$promesa.util","^O","~$pu","^O","~$goog.object","^Q","~$gobj","^Q","^@","^@","~$goog","^S"],"~:seen",["^E",["~:require"]],"~:uses",null,"~:require-macros",["^ ","^@","^@"],"~:form",["~#list",["~$ns","^H","Executors & Schedulers facilities.",["^Y",["~:refer-clojure","~:exclude",["^F"]]],["^Y",["^U",["^M","~:as","^N"],["^O","^11","^P"],["^Q","^11","^R"]]]]],"~:flags",["^ ","^U",["^E",[]]],"~:js-deps",["^ "],"~:deps",["^S","^@","^M","^O","^Q"]],"^J","^H","~:resource-id",["~:shadow.build.classpath/resource","promesa/exec.cljc"],"~:compiled-at",1623785850447,"~:resource-name","promesa/exec.cljc","~:warnings",[],"~:source",";; Copyright (c) 2019-2020 Andrey Antukh <niwi@niwi.nz>\n;; All rights reserved.\n;;\n;; Redistribution and use in source and binary forms, with or without\n;; modification, are permitted provided that the following conditions\n;; are met:\n;;\n;; 1. Redistributions of source code must retain the above copyright\n;;    notice, this list of conditions and the following disclaimer.\n;; 2. Redistributions in binary form must reproduce the above copyright\n;;    notice, this list of conditions and the following disclaimer in the\n;;    documentation and/or other materials provided with the distribution.\n;;\n;; THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR\n;; IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n;; OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n;; IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,\n;; INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n;; NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n;; DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n;; THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n;; (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n;; THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n(ns promesa.exec\n  \"Executors & Schedulers facilities.\"\n  (:refer-clojure :exclude [run!])\n  (:require [promesa.protocols :as pt]\n            [promesa.util :as pu]\n            #?(:cljs [goog.object :as gobj]))\n  #?(:clj\n     (:import\n      java.util.concurrent.atomic.AtomicLong\n      java.util.concurrent.Callable\n      java.util.concurrent.CompletableFuture\n      java.util.concurrent.Executor\n      java.util.concurrent.ExecutorService\n      java.util.concurrent.Executors\n      java.util.concurrent.ForkJoinPool\n      java.util.concurrent.ForkJoinPool\n      java.util.concurrent.ForkJoinPool$ForkJoinWorkerThreadFactory\n      java.util.concurrent.Future\n      java.util.concurrent.ScheduledExecutorService\n      java.util.concurrent.ThreadFactory\n      java.util.concurrent.TimeUnit\n      java.util.concurrent.TimeoutException\n      java.util.function.Supplier)))\n\n;; --- Globals & Defaults (with CLJS Impl)\n\n#?(:clj (declare scheduled-pool)\n   :cljs (declare ->ScheduledExecutor))\n\n#?(:cljs (declare ->MicrotaskExecutor))\n\n(declare ->CurrentThreadExecutor)\n\n(defonce default-scheduler\n  (delay #?(:clj (scheduled-pool)\n            :cljs (->ScheduledExecutor))))\n\n(defonce default-executor\n  (delay #?(:clj (ForkJoinPool/commonPool)\n            :cljs (->MicrotaskExecutor))))\n\n(defonce current-thread-executor\n  (delay (->CurrentThreadExecutor)))\n\n(defn resolve-executor\n  ([] (if (delay? default-executor) @default-executor default-executor))\n  ([executor] (if (delay? executor) @executor executor)))\n\n(defn resolve-scheduler\n  ([] (if (delay? default-scheduler) @default-scheduler default-scheduler))\n  ([scheduler] (if (delay? scheduler) @scheduler scheduler)))\n\n#?(:clj\n   (defonce processors\n     (delay (.availableProcessors (Runtime/getRuntime)))))\n\n;; --- Public Api\n\n(defn run!\n  \"Run the task in the provided executor.\"\n  ([task] (pt/-run! (resolve-executor) task))\n  ([executor task] (pt/-run! (resolve-executor executor) task)))\n\n(defn submit!\n  \"Submit a task to be executed in a provided executor\n  and return a promise that will be completed with\n  the return value of a task.\n\n  A task is a plain clojure function.\"\n  ([task]\n   (pt/-submit! (resolve-executor) task))\n  ([executor task]\n   (pt/-submit! (resolve-executor executor) task)))\n\n(defn schedule!\n  \"Schedule a callable to be executed after the `ms` delay\n  is reached.\n\n  In JVM it uses a scheduled executor service and in JS\n  it uses the `setTimeout` function.\"\n  ([ms task]\n   (pt/-schedule! (resolve-scheduler) ms task))\n  ([scheduler ms task]\n   (pt/-schedule! (resolve-scheduler scheduler) ms task)))\n\n;; --- Pool constructorls\n\n(declare resolve-thread-factory)\n\n#?(:clj\n   (defn cached-pool\n     \"A cached thread pool constructor.\"\n     ([]\n      (Executors/newCachedThreadPool))\n     ([opts]\n      (let [factory (resolve-thread-factory opts)]\n        (Executors/newCachedThreadPool factory)))))\n\n#?(:clj\n   (defn fixed-pool\n     \"A fixed thread pool constructor.\"\n     ([n]\n      (Executors/newFixedThreadPool (int n)))\n     ([n opts]\n      (let [factory (resolve-thread-factory opts)]\n        (Executors/newFixedThreadPool (int n) factory)))))\n\n#?(:clj\n   (defn single-pool\n     \"A single thread pool constructor.\"\n     ([]\n      (Executors/newSingleThreadExecutor))\n     ([opts]\n      (let [factory (resolve-thread-factory opts)]\n        (Executors/newSingleThreadExecutor factory)))))\n\n#?(:clj\n   (defn scheduled-pool\n     \"A scheduled thread pool constructo.\"\n     ([] (Executors/newScheduledThreadPool (int 0)))\n     ([n] (Executors/newScheduledThreadPool (int 0)))\n     ([n opts]\n      (let [factory (resolve-thread-factory opts)]\n        (Executors/newScheduledThreadPool (int n) factory)))))\n\n#?(:clj\n   (defn work-stealing-pool\n     \"Creates a work-stealing thread pool.\"\n     ([] (Executors/newWorkStealingPool))\n     ([n] (Executors/newWorkStealingPool (int n)))))\n\n#?(:clj\n   (defn forkjoin-pool\n     [{:keys [factory async? parallelism]\n       :or {async? true}\n       :as opts}]\n     (let [parallelism (or parallelism @processors)\n           factory (cond\n                     (instance? ForkJoinPool$ForkJoinWorkerThreadFactory factory) factory\n                     (nil? factory) ForkJoinPool/defaultForkJoinWorkerThreadFactory\n                     :else (throw (ex-info \"Unexpected thread factory\" {:factory factory})))]\n       (ForkJoinPool. (or parallelism @processors) factory nil async?))))\n\n\n;; --- Impl\n\n#?(:clj\n   (defn- thread-factory-adapter\n     \"Adapt a simple clojure function into a\n     ThreadFactory instance.\"\n     [func]\n     (reify ThreadFactory\n       (^Thread newThread [_ ^Runnable runnable]\n        (func runnable)))))\n\n#?(:clj\n   (defn counted-thread-factory\n     [name daemon]\n     (let [along (AtomicLong. 0)]\n       (reify ThreadFactory\n         (newThread [this runnable]\n           (doto (Thread. ^Runnable runnable)\n             (.setDaemon ^Boolean daemon)\n             (.setName (format name (.getAndIncrement along)))))))))\n\n#?(:clj\n   (defn forkjoin-named-thread-factory\n     [name]\n     (reify ForkJoinPool$ForkJoinWorkerThreadFactory\n       (newThread [this pool]\n         (let [wth (.newThread ForkJoinPool/defaultForkJoinWorkerThreadFactory pool)]\n           (.setName wth (str name \":\" (.getPoolIndex wth)))\n           wth)))))\n\n#?(:clj\n   (defn- thread-factory\n     [{:keys [daemon priority]\n       :or {daemon true\n            priority Thread/NORM_PRIORITY}}]\n     (thread-factory-adapter\n      (fn [runnable]\n        (let [thread (Thread. ^Runnable runnable)]\n          (.setDaemon thread daemon)\n          (.setPriority thread priority)\n          thread)))))\n\n#?(:clj\n   (defn- resolve-thread-factory\n     [opts]\n     (cond\n       (map? opts) (thread-factory opts)\n       (fn? opts) (thread-factory-adapter opts)\n       (instance? ThreadFactory opts) opts\n       :else (throw (ex-info \"Invalid thread factory\" {})))))\n\n#?(:clj\n   (extend-protocol pt/IExecutor\n     Executor\n     (-run! [this f]\n       (CompletableFuture/runAsync ^Runnable f\n                                   ^Executor this))\n     (-submit! [this f]\n       (CompletableFuture/supplyAsync ^Supplier (pu/->SupplierWrapper f)\n                                      ^Executor this))))\n\n\n\n;; Default executor that executes cljs/js tasks in the microtask\n;; queue.\n#?(:cljs\n   (deftype MicrotaskExecutor []\n     pt/IExecutor\n     (-run! [this f]\n       (-> (pt/-promise nil)\n           (pt/-map (fn [_] (f) nil))\n           (pt/-mapErr (fn [e] (js/setTimeout #(throw e)) nil))))\n\n     (-submit! [this f]\n       (-> (pt/-promise nil)\n           (pt/-map (fn [_] (f)))\n           (pt/-mapErr (fn [e] (js/setTimeout #(throw e)) nil))))))\n\n;; Executor that executes the task in the calling thread\n#?(:clj\n   (deftype CurrentThreadExecutor []\n     Executor\n     (^void execute [_ ^Runnable f]\n       (.run f)))\n\n   :cljs\n   (deftype CurrentThreadExecutor []\n     pt/IExecutor\n     (-run! [this f]\n       (f)\n       (pt/-promise nil))\n\n     (-submit! [this f]\n       (pt/-promise (f)))))\n\n;; --- Scheduler & ScheduledTask\n\n#?(:clj\n   (deftype ScheduledTask [^Future fut]\n     clojure.lang.IDeref\n     (deref [_] (.get fut))\n\n     clojure.lang.IBlockingDeref\n     (deref [_ ms default]\n       (try\n         (.get fut ms TimeUnit/MILLISECONDS)\n         (catch TimeoutException e\n           default)))\n\n     clojure.lang.IPending\n     (isRealized [_] (and (.isDone fut)\n                          (not (.isCancelled fut))))\n\n     pt/ICancellable\n     (-cancelled? [_]\n       (.isCancelled fut))\n     (-cancel! [_]\n       (when-not (.isCancelled fut)\n         (.cancel fut true)))\n\n     Future\n     (get [_] (.get fut))\n     (get [_ timeout unit] (.get fut timeout unit))\n     (isCancelled [_] (.isCancelled fut))\n     (isDone [_] (.isDone fut))\n     (cancel [_ interrupt?] (.cancel fut interrupt?)))\n\n   :cljs\n   (deftype ScheduledTask [state]\n     cljs.core/IPending\n     (-realized? [_]\n       (let [done-iref (gobj/get state \"done\")]\n         (deref done-iref)))\n\n     pt/ICancellable\n     (-cancelled? [_]\n       (gobj/get state \"cancelled\"))\n     (-cancel! [self]\n       (when-not (pt/-cancelled? self)\n         (let [cancel-fn (gobj/get state \"cancel-fn\")]\n           (gobj/set state \"cancelled\" true)\n           (cancel-fn))))))\n\n#?(:clj\n   (extend-type ScheduledExecutorService\n     pt/IScheduler\n     (-schedule! [this ms f]\n       (let [fut (.schedule this ^Callable f ^long ms TimeUnit/MILLISECONDS)]\n         (ScheduledTask. fut)))))\n\n#?(:cljs\n   (deftype ScheduledExecutor []\n     pt/IScheduler\n     (-schedule! [_ ms f]\n       (let [done (volatile! false)\n             task #(try\n                     (f)\n                     (finally\n                       (vreset! done true)))\n             tid (js/setTimeout task ms)\n             cancel #(js/clearTimeout tid)]\n         (->ScheduledTask #js {:done done\n                               :cancelled false\n                               :cancel-fn cancel})))))\n","~:reader-features",["^E",["~:cljs"]],"~:cljc",true,"~:source-map-compact",["^ ","mappings","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","names",["promesa.exec/default-scheduler","cljs.core/Delay","promesa.exec/->ScheduledExecutor","promesa.exec/default-executor","promesa.exec/->MicrotaskExecutor","promesa.exec/current-thread-executor","promesa.exec/->CurrentThreadExecutor","var_args","G__10848","promesa.exec/resolve-executor","js/Error","cljs.core/deref","cljs.core/delay?","executor","G__10850","promesa.exec/resolve-scheduler","scheduler","G__10852","promesa.exec/run!","task","promesa.protocols/-run!","promesa.exec.resolve_executor","G__10854","promesa.exec/submit!","promesa.protocols/-submit!","G__10858","promesa.exec/schedule!","ms","promesa.protocols/-schedule!","promesa.exec.resolve_scheduler","cljs.core/PROTOCOL_SENTINEL","this__4369__auto__","writer__4370__auto__","opt__4371__auto__","cljs.core/-write","promesa.exec/MicrotaskExecutor","this","f","promesa.protocols/-promise","promesa.protocols/-map","_","promesa.protocols/-mapErr","e","js/setTimeout","promesa.exec/CurrentThreadExecutor","promesa.exec/ScheduledTask","promesa.exec/->ScheduledTask","state","done-iref","goog.object/get","self","cancel-fn","goog.object/set","promesa.exec/ScheduledExecutor","done","cljs.core/volatile!","cljs.core/vreset!","tid","cancel","js/clearTimeout"]],"~:used-vars",["^E",["~$cljs.core/PROTOCOL_SENTINEL","~$promesa.exec/->CurrentThreadExecutor","~$promesa.protocols/-map","~$promesa.exec/resolve-executor","~$cljs.core/-write","~$promesa.protocols/-schedule!","~$cljs.core/deref","~$promesa.exec/ScheduledExecutor","~$promesa.exec/resolve-thread-factory","~$promesa.protocols/-run!","~$cljs.core/Delay","~$promesa.protocols/-promise","~$promesa.exec/CurrentThreadExecutor","~$promesa.exec/submit!","~$js/setTimeout","~$promesa.protocols/-submit!","~$promesa.exec/default-executor","~$promesa.protocols/-cancelled?","~$goog.object/set","~$promesa.exec/->ScheduledTask","~$promesa.exec/ScheduledTask","~$promesa.exec/->MicrotaskExecutor","~$promesa.exec/MicrotaskExecutor","~$promesa.exec/default-scheduler","~$promesa.protocols/-mapErr","~$cljs.core/delay?","~$promesa.exec/schedule!","~$js/Error","~$promesa.exec/current-thread-executor","~$promesa.exec/->ScheduledExecutor","~$promesa.exec/resolve-scheduler","~$promesa.exec/run!","~$goog.object/get"]]],"~:cache-keys",["~#cmap",[["^16","goog/dom/tagname.js"],["6025affb7181cd40418600864f58eed1ea80055d","~:shadow.build.compiler/resolve",["^ ","~:require-id",null,"~:deps-ids",["^E",[]],"~:deps-syms",["^S","~$goog.dom.HtmlElement"]]],["^16","goog/math/math.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","~$goog.array","~$goog.asserts"]]],["^16","goog/html/trustedtypes.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S"]]],["^16","goog/labs/useragent/browser.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2>","~$goog.labs.userAgent.util","^Q","~$goog.string.internal"]]],["^16","goog/html/safeurl.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2?","~$goog.fs.url","~$goog.html.TrustedResourceUrl","~$goog.i18n.bidi.Dir","~$goog.i18n.bidi.DirectionalString","~$goog.string.Const","~$goog.string.TypedString","^2A"]]],["^16","goog/array/array.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2?"]]],["^16","goog/debug/error.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S"]]],["^16","goog/dom/nodetype.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S"]]],["^16","goog/string/typedstring.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S"]]],["^16","goog/object/object.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S"]]],["^16","goog/dom/asserts.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2?"]]],"~:SHADOW-TIMESTAMP",[1623785801000,1623785801000,1623785791000],["^16","promesa/util.cljc"],["e5ea1b8885415d318d6dd745d782bfbe99067cd4","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^@"]]],["^16","goog/math/long.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2?","~$goog.reflect"]]],["^16","goog/html/trustedresourceurl.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2?","~$goog.html.trustedtypes","^2D","^2E","^2F","^2G"]]],["^16","goog/string/internal.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S"]]],["^16","goog/functions/functions.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S"]]],["^16","goog/html/safestyle.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2>","^2?","~$goog.html.SafeUrl","^2F","^2G","^2A"]]],["^16","goog/dom/safe.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2?","~$goog.dom.asserts","~$goog.functions","~$goog.html.SafeHtml","~$goog.html.SafeScript","~$goog.html.SafeStyle","^2K","^2C","~$goog.html.uncheckedconversions","^2F","^2A"]]],["^16","goog/structs/map.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","~$goog.iter.Iterator","~$goog.iter.StopIteration"]]],["^16","goog/html/safehtml.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2>","^2?","~$goog.dom.TagName","~$goog.dom.tags","^2O","^2P","~$goog.html.SafeStyleSheet","^2K","^2C","^2J","^2D","^2E","~$goog.labs.userAgent.browser","^Q","^2F","^2G","^2A"]]],["^16","goog/dom/tags.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^Q"]]],["^16","goog/asserts/asserts.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","~$goog.debug.Error","~$goog.dom.NodeType"]]],["^16","goog/uri/uri.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2>","^2?","~$goog.string","~$goog.structs","~$goog.structs.Map","~$goog.uri.utils","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"]]],["^16","goog/i18n/bidi.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S"]]],["^16","goog/fs/url.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S"]]],["^16","goog/base.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",[]]],["^16","goog/structs/structs.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2>","^Q"]]],["^16","goog/string/string.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","~$goog.dom.safe","^2Q","^2F","^2A"]]],["^16","goog/reflect/reflect.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S"]]],["^16","goog/labs/useragent/util.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2A"]]],["^16","goog/string/stringbuffer.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S"]]],["^16","promesa/protocols.cljc"],["e5ea1b8885415d318d6dd745d782bfbe99067cd4","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^@"]]],["^16","goog/iter/iter.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2>","^2?","^2M","~$goog.math"]]],["^16","goog/html/uncheckedconversions.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2?","^2N","^2O","^2P","^2V","^2K","^2C","^2F","^2A"]]],["^16","goog/dom/htmlelement.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S"]]],["^16","cljs/core.cljs"],["9f9729dbbf9b814c83dc189977b447d2ae92b6cd","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","~$goog.math.Long","~$goog.math.Integer","^2Z","^Q","^2>","~$goog.Uri","~$goog.string.StringBuffer"]]],["^16","goog/html/safescript.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2?","^2J","^2F","^2G"]]],["^16","goog/html/safestylesheet.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2>","^2?","^2P","^Q","^2F","^2G","^2A"]]],["^16","goog/math/integer.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2I"]]],["^16","goog/uri/utils.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2>","^2?","^2Z"]]],["^16","goog/string/const.js"],["6025affb7181cd40418600864f58eed1ea80055d","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^2?","^2G"]]],["^16","promesa/exec.cljc"],["e5ea1b8885415d318d6dd745d782bfbe99067cd4","^29",["^ ","^2:",null,"^2;",["^E",[]],"^2<",["^S","^@","^M","^O","^Q"]]]]],"~:clj-info",["^ ","jar:file:/root/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/string.clj",1623785784000,"jar:file:/root/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/core.clj",1623785784000,"jar:file:/root/.m2/repository/org/clojure/tools.reader/1.3.3/tools.reader-1.3.3.jar!/clojure/tools/reader/impl/inspect.clj",1623785783000,"jar:file:/root/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/instant.clj",1623785784000,"jar:file:/root/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/source_map.clj",1623785791000,"jar:file:/root/.m2/repository/org/clojure/data.json/1.0.0/data.json-1.0.0.jar!/clojure/data/json.clj",1623785783000,"jar:file:/root/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/js_deps.cljc",1623785791000,"jar:file:/root/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/set.clj",1623785784000,"jar:file:/root/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/java/io.clj",1623785784000,"jar:file:/root/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/source_map/base64.clj",1623785791000,"jar:file:/root/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/externs.clj",1623785791000,"jar:file:/root/.m2/repository/org/clojure/tools.reader/1.3.3/tools.reader-1.3.3.jar!/clojure/tools/reader/reader_types.clj",1623785783000,"jar:file:/root/.m2/repository/org/clojure/tools.reader/1.3.3/tools.reader-1.3.3.jar!/clojure/tools/reader/impl/errors.clj",1623785783000,"jar:file:/root/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/tagged_literals.cljc",1623785791000,"jar:file:/root/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/core.cljc",1623785791000,"jar:file:/root/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/analyzer.cljc",1623785791000,"jar:file:/root/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/source_map/base64_vlq.clj",1623785791000,"jar:file:/root/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/compiler.cljc",1623785791000,"jar:file:/root/.m2/repository/org/clojure/tools.reader/1.3.3/tools.reader-1.3.3.jar!/clojure/tools/reader/default_data_readers.clj",1623785783000,"jar:file:/root/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/util.cljc",1623785791000,"jar:file:/root/.m2/repository/org/clojure/tools.reader/1.3.3/tools.reader-1.3.3.jar!/clojure/tools/reader.clj",1623785783000,"jar:file:/root/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/env.cljc",1623785791000,"jar:file:/root/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/edn.clj",1623785784000,"jar:file:/root/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/pprint.clj",1623785784000],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","Executors & Schedulers facilities.","^7","promesa/exec.cljc","^8",25,"^9",5,"^:",25,"^;",17],"^<",["^ ","^=","^>","^?","^@","^A","^B"],"^C",null,"^D",["^E",["^F"]],"^G","^H","^K",null,"^L",["^ ","^M","^M","^N","^M","^O","^O","^P","^O","^Q","^Q","^R","^Q","^@","^@","^S","^S"],"^T",["^E",["^U"]],"~:shadow/js-access-global",["^E",["clearTimeout","Error","setTimeout"]],"^V",null,"~:defs",["^ ","~$ScheduledTask",["^ ","~:num-fields",1,"~:protocols",["^E",["~$cljs.core/IPending","~$promesa.protocols/ICancellable"]],"^G","^1V","^7","promesa/exec.cljc","^;",26,"~:type",true,"^9",13,"^8",297,"~:record",false,"^:",297,"~:tag","~$function","~:skip-protocol-flag",["^E",["^3Y"]]],"~$->MicrotaskExecutor",["^ ","~:protocol-inline",null,"^5",["^ ","^3X",["^E",["~$promesa.protocols/IExecutor"]],"^7","promesa/exec.cljc","^;",30,"^9",13,"~:factory","~:positional","^8",235,"^:",235,"~:arglists",["^Y",["~$quote",["^Y",[[]]]]],"^43",null,"^6","Positional factory function for promesa.exec/MicrotaskExecutor."],"^3X",["^E",["^46"]],"^G","^1W","^7","promesa/exec.cljc","^;",30,"~:method-params",["^Y",[[]]],"~:protocol-impl",null,"~:arglists-meta",["^Y",[null,null]],"^9",4,"~:variadic?",false,"^47","^48","^8",235,"~:ret-tag","^1X","^:",235,"~:max-fixed-arity",0,"~:fn-var",true,"^49",["^Y",["^4:",["^Y",[[]]]]],"^43",null,"^6","Positional factory function for promesa.exec/MicrotaskExecutor."],"~$MicrotaskExecutor",["^ ","^3W",0,"^3X",["^E",["^46"]],"^G","^1X","^7","promesa/exec.cljc","^;",30,"^3[",true,"^9",13,"^8",235,"^40",false,"^:",235,"^41","^42","^43",null],"~$default-scheduler",["^ ","^G","^1Y","^7","promesa/exec.cljc","^8",58,"^9",1,"^:",58,"^;",27,"^5",["^ ","^7","promesa/exec.cljc","^8",58,"^9",10,"^:",58,"^;",27],"^41","^1L"],"~$->CurrentThreadExecutor",["^ ","^45",null,"^5",["^ ","^3X",["^E",["^46"]],"^7","promesa/exec.cljc","^;",34,"^9",13,"^47","^48","^8",255,"^:",255,"^49",["^Y",["^4:",["^Y",[[]]]]],"^43",null,"^6","Positional factory function for promesa.exec/CurrentThreadExecutor."],"^3X",["^E",["^46"]],"^G","^1C","^7","promesa/exec.cljc","^;",34,"^4;",["^Y",[[]]],"^4<",null,"^4=",["^Y",[null,null]],"^9",4,"^4>",false,"^47","^48","^8",255,"^4?","^1N","^:",255,"^4@",0,"^4A",true,"^49",["^Y",["^4:",["^Y",[[]]]]],"^43",null,"^6","Positional factory function for promesa.exec/CurrentThreadExecutor."],"~$schedule!",["^ ","^45",null,"^5",["^ ","^7","promesa/exec.cljc","^8",99,"^9",7,"^:",99,"^;",16,"^49",["^Y",["^4:",["^Y",[["~$ms","~$task"],["~$scheduler","^4F","^4G"]]]]],"^6","Schedule a callable to be executed after the `ms` delay\n  is reached.\n\n  In JVM it uses a scheduled executor service and in JS\n  it uses the `setTimeout` function.","~:top-fn",["^ ","^4>",false,"~:fixed-arity",3,"^4@",3,"^4;",[["^4F","^4G"],["^4H","^4F","^4G"]],"^49",["^Y",[["^4F","^4G"],["^4H","^4F","^4G"]]],"^4=",["^Y",[null,null]]]],"^G","^20","^7","promesa/exec.cljc","^;",16,"^4I",["^ ","^4>",false,"^4J",3,"^4@",3,"^4;",[["^4F","^4G"],["^4H","^4F","^4G"]],"^49",["^Y",[["^4F","^4G"],["^4H","^4F","^4G"]]],"^4=",["^Y",[null,null]]],"^4;",[["^4F","^4G"],["^4H","^4F","^4G"]],"^4<",null,"^4J",3,"^4=",["^Y",[null,null]],"^9",1,"^4>",false,"~:methods",[["^ ","^4J",2,"^4>",false,"^41","~$any"],["^ ","^4J",3,"^4>",false,"^41","^4L"]],"^8",99,"^:",99,"^4@",3,"^4A",true,"^49",["^Y",[["^4F","^4G"],["^4H","^4F","^4G"]]],"^6","Schedule a callable to be executed after the `ms` delay\n  is reached.\n\n  In JVM it uses a scheduled executor service and in JS\n  it uses the `setTimeout` function."],"~$->ScheduledExecutor",["^ ","^45",null,"^5",["^ ","^3X",["^E",["~$promesa.protocols/IScheduler"]],"^7","promesa/exec.cljc","^;",30,"^9",13,"^47","^48","^8",320,"^:",320,"^49",["^Y",["^4:",["^Y",[[]]]]],"^43",null,"^6","Positional factory function for promesa.exec/ScheduledExecutor."],"^3X",["^E",["^4N"]],"^G","^23","^7","promesa/exec.cljc","^;",30,"^4;",["^Y",[[]]],"^4<",null,"^4=",["^Y",[null,null]],"^9",4,"^4>",false,"^47","^48","^8",320,"^4?","^1I","^:",320,"^4@",0,"^4A",true,"^49",["^Y",["^4:",["^Y",[[]]]]],"^43",null,"^6","Positional factory function for promesa.exec/ScheduledExecutor."],"~$resolve-executor",["^ ","^45",null,"^5",["^ ","^7","promesa/exec.cljc","^8",69,"^9",7,"^:",69,"^;",23,"^49",["^Y",["^4:",["^Y",[[],["~$executor"]]]]],"^4I",["^ ","^4>",false,"^4J",1,"^4@",1,"^4;",[[],["^4P"]],"^49",["^Y",[[],["^4P"]]],"^4=",["^Y",[null,null]]]],"^G","^1E","^7","promesa/exec.cljc","^;",23,"^4I",["^ ","^4>",false,"^4J",1,"^4@",1,"^4;",[[],["^4P"]],"^49",["^Y",[[],["^4P"]]],"^4=",["^Y",[null,null]]],"^4;",[[],["^4P"]],"^4<",null,"^4J",1,"^4=",["^Y",[null,null]],"^9",1,"^4>",false,"^4K",[["^ ","^4J",0,"^4>",false,"^41",["^E",["^4L","^1L"]]],["^ ","^4J",1,"^4>",false,"^41",["^E",[null,"^4L"]]]],"^8",69,"^:",69,"^4@",1,"^4A",true,"^49",["^Y",[[],["^4P"]]]],"~$current-thread-executor",["^ ","^G","^22","^7","promesa/exec.cljc","^8",66,"^9",1,"^:",66,"^;",33,"^5",["^ ","^7","promesa/exec.cljc","^8",66,"^9",10,"^:",66,"^;",33],"^41","^1L"],"~$ScheduledExecutor",["^ ","^3W",0,"^3X",["^E",["^4N"]],"^G","^1I","^7","promesa/exec.cljc","^;",30,"^3[",true,"^9",13,"^8",320,"^40",false,"^:",320,"^41","^42","^43",null],"~$resolve-scheduler",["^ ","^45",null,"^5",["^ ","^7","promesa/exec.cljc","^8",73,"^9",7,"^:",73,"^;",24,"^49",["^Y",["^4:",["^Y",[[],["^4H"]]]]],"^4I",["^ ","^4>",false,"^4J",1,"^4@",1,"^4;",[[],["^4H"]],"^49",["^Y",[[],["^4H"]]],"^4=",["^Y",[null,null]]]],"^G","^24","^7","promesa/exec.cljc","^;",24,"^4I",["^ ","^4>",false,"^4J",1,"^4@",1,"^4;",[[],["^4H"]],"^49",["^Y",[[],["^4H"]]],"^4=",["^Y",[null,null]]],"^4;",[[],["^4H"]],"^4<",null,"^4J",1,"^4=",["^Y",[null,null]],"^9",1,"^4>",false,"^4K",[["^ ","^4J",0,"^4>",false,"^41",["^E",["^4L","^1L"]]],["^ ","^4J",1,"^4>",false,"^41",["^E",[null,"^4L"]]]],"^8",73,"^:",73,"^4@",1,"^4A",true,"^49",["^Y",[[],["^4H"]]]],"~$default-executor",["^ ","^G","^1R","^7","promesa/exec.cljc","^8",62,"^9",1,"^:",62,"^;",26,"^5",["^ ","^7","promesa/exec.cljc","^8",62,"^9",10,"^:",62,"^;",26],"^41","^1L"],"^F",["^ ","^45",null,"^5",["^ ","^7","promesa/exec.cljc","^8",83,"^9",7,"^:",83,"^;",11,"^49",["^Y",["^4:",["^Y",[["^4G"],["^4P","^4G"]]]]],"^6","Run the task in the provided executor.","^4I",["^ ","^4>",false,"^4J",2,"^4@",2,"^4;",[["^4G"],["^4P","^4G"]],"^49",["^Y",[["^4G"],["^4P","^4G"]]],"^4=",["^Y",[null,null]]]],"^G","^25","^7","promesa/exec.cljc","^;",11,"^4I",["^ ","^4>",false,"^4J",2,"^4@",2,"^4;",[["^4G"],["^4P","^4G"]],"^49",["^Y",[["^4G"],["^4P","^4G"]]],"^4=",["^Y",[null,null]]],"^4;",[["^4G"],["^4P","^4G"]],"^4<",null,"^4J",2,"^4=",["^Y",[null,null]],"^9",1,"^4>",false,"^4K",[["^ ","^4J",1,"^4>",false,"^41","^4L"],["^ ","^4J",2,"^4>",false,"^41","^4L"]],"^8",83,"^:",83,"^4@",2,"^4A",true,"^49",["^Y",[["^4G"],["^4P","^4G"]]],"^6","Run the task in the provided executor."],"~$resolve-thread-factory",["^ ","^G","^1J","^7","promesa/exec.cljc","^8",112,"^9",1,"^:",112,"^;",32,"~:declared",true,"^5",["^ ","^7","promesa/exec.cljc","^8",112,"^9",10,"^:",112,"^;",32,"^4V",true]],"~$CurrentThreadExecutor",["^ ","^3W",0,"^3X",["^E",["^46"]],"^G","^1N","^7","promesa/exec.cljc","^;",34,"^3[",true,"^9",13,"^8",255,"^40",false,"^:",255,"^41","^42","^43",null],"~$submit!",["^ ","^45",null,"^5",["^ ","^7","promesa/exec.cljc","^8",88,"^9",7,"^:",88,"^;",14,"^49",["^Y",["^4:",["^Y",[["^4G"],["^4P","^4G"]]]]],"^6","Submit a task to be executed in a provided executor\n  and return a promise that will be completed with\n  the return value of a task.\n\n  A task is a plain clojure function.","^4I",["^ ","^4>",false,"^4J",2,"^4@",2,"^4;",[["^4G"],["^4P","^4G"]],"^49",["^Y",[["^4G"],["^4P","^4G"]]],"^4=",["^Y",[null,null]]]],"^G","^1O","^7","promesa/exec.cljc","^;",14,"^4I",["^ ","^4>",false,"^4J",2,"^4@",2,"^4;",[["^4G"],["^4P","^4G"]],"^49",["^Y",[["^4G"],["^4P","^4G"]]],"^4=",["^Y",[null,null]]],"^4;",[["^4G"],["^4P","^4G"]],"^4<",null,"^4J",2,"^4=",["^Y",[null,null]],"^9",1,"^4>",false,"^4K",[["^ ","^4J",1,"^4>",false,"^41","^4L"],["^ ","^4J",2,"^4>",false,"^41","^4L"]],"^8",88,"^:",88,"^4@",2,"^4A",true,"^49",["^Y",[["^4G"],["^4P","^4G"]]],"^6","Submit a task to be executed in a provided executor\n  and return a promise that will be completed with\n  the return value of a task.\n\n  A task is a plain clojure function."],"~$->ScheduledTask",["^ ","^45",null,"^5",["^ ","^3X",["^E",["^3Y","^3Z"]],"^7","promesa/exec.cljc","^;",26,"^9",13,"^47","^48","^8",297,"^:",297,"^49",["^Y",["^4:",["^Y",[["~$state"]]]]],"^43",["^E",["^3Y"]],"^6","Positional factory function for promesa.exec/ScheduledTask."],"^3X",["^E",["^3Y","^3Z"]],"^G","^1U","^7","promesa/exec.cljc","^;",26,"^4;",["^Y",[["^4Z"]]],"^4<",null,"^4=",["^Y",[null,null]],"^9",4,"^4>",false,"^47","^48","^8",297,"^4?","^1V","^:",297,"^4@",1,"^4A",true,"^49",["^Y",["^4:",["^Y",[["^4Z"]]]]],"^43",["^E",["^3Y"]],"^6","Positional factory function for promesa.exec/ScheduledTask."]],"^W",["^ ","^@","^@"],"~:cljs.analyzer/constants",["^ ","^T",["^E",["^4Z"]],"~:order",["^4Z"]],"^12",["^ ","^U",["^E",[]]],"^13",["^ "],"^14",["^S","^@","^M","^O","^Q"]],"^J","^H","~:ns-specs",["^ "],"~:ns-spec-vars",["^E",[]],"~:compiler-options",["^28",[["^53","~:static-fns"],true,["^53","~:shadow-tweaks"],null,["^53","~:source-map-inline"],null,["^53","~:elide-asserts"],true,["^53","~:optimize-constants"],null,["^53","^19"],null,["^53","~:external-config"],null,["^53","~:tooling-config"],null,["^53","~:emit-constants"],null,["^53","~:load-tests"],false,["^53","~:form-size-threshold"],null,["^53","~:data-readers"],null,["^53","~:infer-externs"],"~:auto",["^53","^1;"],null,["~:js-options","~:js-provider"],"~:shadow",["~:mode"],"~:release",["^53","~:fn-invoke-direct"],null,["^53","~:source-map"],null]]]